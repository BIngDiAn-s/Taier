<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-09MSEFN7VC"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-09MSEFN7VC",{anonymize_ip:!0})</script><title data-react-helmet="true">集群配置 | Taier</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://dtstack.github.io/Taier/docs/functions/multi-cluster"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="集群配置 | Taier"><meta data-react-helmet="true" name="description" content="控制台是维护底层资源的管理平台，分为队列管理、资源管理、多集群管理三个模块"><meta data-react-helmet="true" property="og:description" content="控制台是维护底层资源的管理平台，分为队列管理、资源管理、多集群管理三个模块"><link data-react-helmet="true" rel="icon" href="/Taier/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://dtstack.github.io/Taier/docs/functions/multi-cluster"><link data-react-helmet="true" rel="alternate" href="https://dtstack.github.io/Taier/docs/functions/multi-cluster" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://dtstack.github.io/Taier/docs/functions/multi-cluster" hreflang="x-default"><link rel="stylesheet" href="/Taier/assets/css/styles.5fe28033.css">
<link rel="preload" href="/Taier/assets/js/runtime~main.e4341204.js" as="script">
<link rel="preload" href="/Taier/assets/js/main.c836a803.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/Taier/"><div class="navbar__logo"><img src="/Taier/img/logo.svg" alt="Taier Logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/Taier/img/logo.svg" alt="Taier Logo" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">Taier</b></a><a class="navbar__item navbar__link navbar__link--active" href="/Taier/docs/guides/introduction">DOCS</a><a href="https://github.com/DTStack/Taier" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GITHUB<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div><div class="navbar__items navbar__items--right"><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">🌜</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">🌞</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/Taier/docs/guides/introduction">关于 Taier</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Taier/docs/guides/introduction">关于 Taier</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Taier/docs/guides/work-deployment">建议安装配置</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Taier/docs/guides/explain">名称解释</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Taier/docs/guides/taier-architecture">架构设计</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/Taier/docs/quickstart/rely">快速开始</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Taier/docs/quickstart/rely">依赖组件</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/Taier/docs/quickstart/deploy/pre-operation">快速部署</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Taier/docs/quickstart/deploy/pre-operation">部署依赖</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Taier/docs/quickstart/deploy/backend">后端部署</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Taier/docs/quickstart/deploy/web">前端部署</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Taier/docs/quickstart/deploy/docker">docker 部署</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Taier/docs/quickstart/start">快速上手</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_TwRn" href="/Taier/docs/functions/multi-cluster">功能介绍</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/Taier/docs/functions/multi-cluster">集群配置</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Taier/docs/functions/datasource">数据源</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/Taier/docs/functions/task/sync">任务类型</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Taier/docs/functions/task/sync">数据同步</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Taier/docs/functions/task/data-acquisition">实时采集</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Taier/docs/functions/task/flink-sql">Flink SQL</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Taier/docs/functions/task/spark-sql">Spark SQL</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Taier/docs/functions/task/hive-sql">Hive SQL</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Taier/docs/functions/maintenance">运维中心</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Taier/docs/functions/depend">依赖配置</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Taier/docs/functions/task-param">任务参数</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Taier/docs/functions/environmental-parameters">环境参数</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Taier/docs/contributing">贡献指南</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Taier/docs/faq">FAQ</a></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>控制台</h1></header><p>控制台是维护底层资源的管理平台，分为队列管理、资源管理、多集群管理三个模块</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="多集群管理">多集群管理<a class="hash-link" href="#多集群管理" title="Direct link to heading">​</a></h2><p>多集群管理用于配置任务实例运行所依赖的底层组件，比如资源调度组件 YARN、存储组件 HDFS、计算组件 Flink 等</p><p>将租户绑定到某个集群，该租户提交的任务就会使用该集群下对应的组件</p><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>在实际的数据开发中，我们可以将资源进行合理的分配：不同的集群使用不同的资源，然后让不同环境下的租户绑定到不同的集群，比如测试环境租户绑定到测试集群、预发环境租户绑定预发集群，从而实现对资源的隔离使用</p></div></div><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>多集群管理按照公共组件--&gt;资源调度组件--&gt;存储组件--&gt;计算组件的顺序进行配置</p></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="公共组件">公共组件<a class="hash-link" href="#公共组件" title="Direct link to heading">​</a></h3><p>公共组件用于配置 SFTP 组件，相关资源、配置文件上传下载都会使用对应的sftp组件来操作</p><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>sftp组件用于保存yarn组件中的配置文件信息 以及kerberos文件信息 任意一台机器即可 但需要保证计算节点和Taier网络能访问</p></div></div><p><img alt="SFTP 配置" src="/Taier/assets/images/sftp-dfcc0671d550a09f8020ec93868b7bb0.png"></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="资源调度组件">资源调度组件<a class="hash-link" href="#资源调度组件" title="Direct link to heading">​</a></h3><p>资源调度组件主要用于配置 YARN 组件，因为某些计算组件需要依赖资源调度组件，比如 Flink 计算组件需要依赖 YARN，所以需要提前配置好资源调度组件</p><p><img alt="YARN 配置" src="/Taier/assets/images/yarn-9f643987a7f2c65ffe4488287f2e8c6c.png"></p><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>不同厂商的hadoop集群提交任务会依赖不同的参数，可以在适配hadoop集群的时候通过自定义参数来动态调整</p><p>这里默认以Apache Hadoop2 为例 如果没有对应hadoop版本 可以使用Apache Hadoop2 通过采用适配集群的方式来提交任务</p></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="存储组件">存储组件<a class="hash-link" href="#存储组件" title="Direct link to heading">​</a></h3><p>存储组件主要用于配置 HDFS 组件，因为某些计算组件需要依赖存储组件，比如 Flink 计算组件需要依赖 HDFS 存储组件，所以需要提前配置好存储组件</p><p><img alt="HDFS 配置" src="/Taier/assets/images/hdfs-f9a9f68ef885e549d854fd2ca3fc4a5e.png"></p><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>为了保持 Hadoop 引擎下，YARN 和 HDFS 组件的版本一致性，当切换 YARN 的组件版本，进行保存后，存储组件 HDFS 的版本也将同步变更</p></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="计算组件">计算组件<a class="hash-link" href="#计算组件" title="Direct link to heading">​</a></h3><p>计算组件主要用于配置 Flink、Spark 等计算引擎</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="flink">Flink<a class="hash-link" href="#flink" title="Direct link to heading">​</a></h4><p><img alt="Flink 配置" src="/Taier/assets/images/flink-b33be969975a8b6820b178f9f241bae9.png"></p><p>部署模式分为 perjob、session 两种模式</p><h5 class="anchor anchorWithStickyNavbar_y2LR" id="公共参数">公共参数<a class="hash-link" href="#公共参数" title="Direct link to heading">​</a></h5><table><thead><tr><th>参数项</th><th>默认值</th><th>说明</th><th>是否必填</th></tr></thead><tbody><tr><td>clusterMode</td><td>perjob模式为perjob；session模式为session</td><td>任务执行模式：perjob, session</td><td>是</td></tr><tr><td>flinkJarPath</td><td>/data/insight_plugin/flink110_lib</td><td>flink lib path</td><td>是</td></tr><tr><td>remoteFlinkJarPath</td><td>/data/insight_plugin/flink110_lib</td><td>flink lib远程路径</td><td>是</td></tr><tr><td>flinkPluginRoot</td><td>/data/insight_plugin</td><td>flinkStreamSql和flinkx plugins父级本地目录</td><td>是</td></tr><tr><td>remotePluginRootDir</td><td>/data/insight_plugin</td><td>flinkStreamSql和flinkx plugins父级远程目录</td><td>是</td></tr><tr><td>pluginLoadMode</td><td>shipfile</td><td>插件加载类型</td><td>否</td></tr><tr><td>monitorAcceptedApp</td><td>false</td><td>是否监控yarn accepted状态任务</td><td>否</td></tr><tr><td>yarnAccepterTaskNumber</td><td>3</td><td>允许yarn accepter任务数量，达到这个值后不允许任务提交</td><td>否</td></tr><tr><td>prometheusHost</td><td></td><td>prometheus地址，获取数据同步指标使用</td><td>是</td></tr><tr><td>prometheusPort</td><td>9090</td><td>prometheus，获取数据同步指标使用</td><td>是</td></tr><tr><td>classloader.dtstack-cache</td><td>true</td><td>是否缓存classloader</td><td>否</td></tr></tbody></table><h5 class="anchor anchorWithStickyNavbar_y2LR" id="session">session<a class="hash-link" href="#session" title="Direct link to heading">​</a></h5><table><thead><tr><th>参数项</th><th>默认值</th><th>说明</th><th>是否必填</th></tr></thead><tbody><tr><td>checkSubmitJobGraphInterval</td><td>60</td><td>session check间隔（60 * 10s）</td><td>是</td></tr><tr><td>flinkSessionSlotCount</td><td>10</td><td>flink session允许的最大slot数</td><td>是</td></tr><tr><td>sessionRetryNum</td><td>5</td><td>session重试次数，达到后会放缓重试的频率</td><td>是</td></tr><tr><td>sessionStartAuto</td><td>true</td><td>是否允许Taier启动flink session</td><td>是</td></tr><tr><td>flinkSessionName</td><td>flink_session</td><td>flink session任务名</td><td>是</td></tr><tr><td>jobmanager.heap.mb</td><td>2048</td><td>jobmanager内存大小</td><td>是</td></tr><tr><td>taskmanager.heap.mb</td><td>1024</td><td>taskmanager内存大小</td><td>是</td></tr></tbody></table><h5 class="anchor anchorWithStickyNavbar_y2LR" id="flink-参数项">Flink 参数项<a class="hash-link" href="#flink-参数项" title="Direct link to heading">​</a></h5><table><thead><tr><th>参数项</th><th>默认值</th><th>说明</th><th>是否必填</th></tr></thead><tbody><tr><td>env.java.opts</td><td>-XX:+UseConcMarkSweepGC -XX:+CMSParallelRemarkEnabled -XX:+CMSIncrementalMode -XX:+CMSIncrementalPacing -XX:MaxMetaspaceSize=300m -Dfile.encoding=UTF-8</td><td>jvm参数</td><td>否</td></tr><tr><td>classloader.resolve-order</td><td>perjob默认为child-first，session默认为parent-first</td><td>类加载模式</td><td>否</td></tr><tr><td>high-availability</td><td>ZOOKEEPER</td><td>flink ha类型</td><td>是</td></tr><tr><td>high-availability.zookeeper.quorum</td><td>zookeeper地址，当ha选择是zookeeper时必填</td><td>是</td><td></td></tr><tr><td>high-availability.zookeeper.path.root</td><td>/flink110</td><td>ha节点路径</td><td>是</td></tr><tr><td>high-availability.storageDir</td><td>hdfs://ns1/dtInsight/flink110/ha</td><td>ha元数据存储路径</td><td>是</td></tr><tr><td>jobmanager.archive.fs.dir</td><td>hdfs://ns1/dtInsight/flink110/completed-jobs	任务结束后任务信息存储路径	是</td><td></td><td></td></tr><tr><td>metrics.reporter.promgateway.class</td><td>org.apache.flink.metrics.prometheus.PrometheusPushGatewayReporter</td><td>用来推送指标类</td><td>是</td></tr><tr><td>metrics.reporter.promgateway.host</td><td>promgateway地址</td><td>是</td><td></td></tr><tr><td>metrics.reporter.promgateway.port</td><td>9091</td><td>promgateway端口</td><td>是</td></tr><tr><td>metrics.reporter.promgateway.deleteOnShutdown</td><td>true</td><td>任务结束后是否删除指标	是</td><td></td></tr><tr><td>metrics.reporter.promgateway.jobName</td><td>110job	指标任务名</td><td>否</td><td></td></tr><tr><td>metrics.reporter.promgateway.randomJobNameSuffix</td><td>true</td><td>是否在任务名上添加随机值</td><td>是</td></tr><tr><td>state.backend</td><td>RocksDB</td><td>状态后端</td><td>是</td></tr><tr><td>state.backend.incremental</td><td>true</td><td>是否开启增量</td><td>否</td></tr><tr><td>state.checkpoints.dir</td><td>hdfs://ns1/dtInsight/flink110/checkpoints</td><td>checkpoint路径地址</td><td>是</td></tr><tr><td>state.checkpoints.num-retained</td><td>11</td><td>checkpoint保存个数</td><td>否</td></tr><tr><td>state.savepoints.dir</td><td>hdfs://ns1/dtInsight/flink110/savepoints</td><td>savepoint路径</td><td>是</td></tr><tr><td>yarn.application-attempts</td><td>3</td><td>重试次数</td><td>否</td></tr><tr><td>yarn.application-attempt-failures-validity-interval</td><td>3600000</td><td>重试窗口时间大小</td><td>否</td></tr><tr><td>akka.ask.timeout</td><td>60 s</td><td></td><td>否</td></tr><tr><td>akka.tcp.timeout</td><td>60 s</td><td></td><td>否</td></tr></tbody></table><p>更多 Flink 参数项详见<a href="https://ci.apache.org/projects/flink/flink-docs-release-1.10/ops/config.html" target="_blank" rel="noopener noreferrer">官方文档</a></p><p>prejob和session 都依赖chunjun的插件包和flink的lib包  </p><p><strong>flinkJarPath</strong>配置的是flink 的lib目录<br>
<!-- -->如:flinkJarPath = /opt/dtstack/flink110_lib<br>
<!-- -->/opt/dtstack/flink110_lib 目录结构为:</p><div class="codeBlockContainer_J+bg language-shell theme-code-block"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">├── flink-dist_2.11-1.10.0.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── flink-metrics-prometheus-1.10.0.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── flink-shaded-hadoop-2-uber-2.7.5-10.0.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── flink-streaming-java_2.11-1.10.0.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── flink-table_2.11-1.10.0.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── flink-table-blink_2.11-1.10.0.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── log4j-1.2.17.jar</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p><strong>flinkPluginRoot</strong>配置的是chunjun的插件包目录<br>
<!-- -->如:flinkPluginRoot = /opt/dtstack/110_flinkplugin<br>
<!-- -->/opt/dtstack/110_flinkplugin 目录结构为:</p><div class="codeBlockContainer_J+bg language-shell theme-code-block"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">└── syncplugin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── adbpostgresqlreader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-adbpostgresql-reader-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── adbpostgresqlwriter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-adbpostgresql-writer-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── binlogreader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-binlog-reader-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── carbondatareader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-carbondata-reader.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── carbondatawriter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-carbondata-writer.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── cassandrareader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-cassandra-reader-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── cassandrawriter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-cassandra-writer-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── clickhousereader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-clickhouse-reader-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── clickhousewriter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-clickhouse-writer-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── common</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   ├── flinkx-rdb-core-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   ├── flinkx-rdb-reader-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-rdb-writer-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── db2reader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-db2-reader-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── db2writer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-db2-writer-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── dmreader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-dm-reader-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── dmwriter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-dm-writer-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── doriswriter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-doris-writer-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── emqxreader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-emqx-reader-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── emqxwriter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-emqx-writer-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── esreader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-es-reader-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── eswriter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-es-writer-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── ftpreader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-ftp-reader-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── ftpwriter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-ftp-writer-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── gbasereader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-gbase-reader-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── gbasewriter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-gbase-writer-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── greenplumreader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-greenplum-reader-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── greenplumwriter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-greenplum-writer-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── hbasereader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-hbase-reader-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── hbasewriter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-hbase-writer-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── hdfsreader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-hdfs-reader-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── hdfswriter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-hdfs-writer-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── hivewriter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-hive-writer-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── inceptorreader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-inceptor-reader-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── inceptorwriter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-inceptor-writer-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── influxdbreader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-influxdb-reader-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── kafka09reader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-kafka09-reader-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── kafka09writer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-kafka09-writer-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── kafka10reader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-kafka10-reader-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── kafka10writer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-kafka10-writer-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── kafka11reader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-kafka11-reader-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── kafka11writer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-kafka11-writer-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── kafkareader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-kafka-reader-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── kafkawriter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-kafka-writer-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── kingbasereader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-kingbase-reader-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── kingbasewriter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-kingbase-writer-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── kudureader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-kudu-reader-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── kuduwriter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-kudu-writer-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── metadatahbasereader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-metadata-hbase-reader-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── metadatahive1reader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-metadata-hive1-reader-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── metadatahive2reader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-metadata-hive2-reader-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── metadatahivecdcreader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-metadata-hivecdc-reader-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── metadatakafkareader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-metadata-kafka-reader-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── metadatamysqlreader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-metadata-mysql-reader-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── metadataoraclereader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-metadata-oracle-reader-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── metadataphoenix5reader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-metadata-phoenix5-reader-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── metadatasparkthriftreader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-metadata-sparkthrift-reader-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── metadatasqlserverreader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-metadata-sqlserver-reader-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── metadatatidbreader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-metadata-tidb-reader-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── metadataverticareader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-metadata-vertica-reader-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── mongodbreader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-mongodb-reader-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── mongodbwriter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-mongodb-writer-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── mysqlcdcreader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-cdc-reader-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── mysqldreader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-mysql-dreader-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── mysqlreader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-mysql-reader-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── mysqlwriter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-mysql-writer-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── odpsreader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-odps-reader-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── odpswriter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-odps-writer-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── opentsdbreader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-opentsdb-reader-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── oracle9reader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   ├── flinkx-oracle9-reader-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-oracle9reader.zip</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── oracle9writer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   ├── flinkx-oracle9-writer-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-oracle9writer.zip</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── oraclelogminerreader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-oraclelogminer-reader-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── oraclereader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-oracle-reader-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── oraclewriter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-oracle-writer-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── pgwalreader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-pgwal-reader-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── phoenix5reader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-phoenix5-reader-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── phoenix5writer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-phoenix5-writer-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── polardbdreader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-polardb-dreader-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── polardbreader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-polardb-reader-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── polardbwriter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-polardb-writer-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── postgresqlreader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-postgresql-reader-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── postgresqlwriter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-postgresql-writer-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── rediswriter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-redis-writer-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── restapireader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-restapi-reader-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── restapiwriter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-restapi-writer-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── s3reader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-s3-reader-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── s3writer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-s3-writer-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── saphanareader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-saphana-reader-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── saphanawriter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-saphana-writer-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── socketreader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-socket-reader-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── solrreader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-solr-reader-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── solrwriter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-solr-writer-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── sqlservercdcreader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-sqlservercdc-reader-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── sqlserverreader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-sqlserver-reader-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── sqlserverwriter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-sqlserver-writer-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── streamreader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-stream-reader-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── streamwriter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── flinkx-stream-writer-feat_1.10_4.3.x_metadata.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    └── websocketreader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        └── flinkx-websocket-reader-feat_1.10_4.3.x_metadata.jar</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>配置好数据同步之后运行，如果一直提示等待运行，可以去monitor.log查看相应日志，确认flinkPluginRoot是否包含syncplugin的插件目录</p></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="spark">Spark<a class="hash-link" href="#spark" title="Direct link to heading">​</a></h4><p><img alt="Spark 配置" src="/Taier/assets/images/spark-c4451ef9fc79f4cb81dd5a010154eaf1.png"></p><h5 class="anchor anchorWithStickyNavbar_y2LR" id="spark-参数项">Spark 参数项<a class="hash-link" href="#spark-参数项" title="Direct link to heading">​</a></h5><table><thead><tr><th>参数项</th><th>默认值</th><th>说明</th><th>是否必填</th></tr></thead><tbody><tr><td>spark.driver.extraJavaOptions</td><td>-Dfile.encoding=UTF-8</td><td>driver的jvm参数</td><td>否</td></tr><tr><td>spark.executor.extraJavaOptions</td><td>-Dfile.encoding=UTF-8</td><td>executor的jvm参数</td><td>否</td></tr><tr><td>spark.eventLog.compress</td><td>false</td><td>是否压缩日志</td><td>否</td></tr><tr><td>spark.eventLog.dir</td><td>hdfs://ns1/tmp/logs</td><td>spark日志存放路径</td><td>否</td></tr><tr><td>spark.eventLog.enabled</td><td>true</td><td>是否记录 Spark 日志</td><td>否</td></tr><tr><td>spark.executor.cores</td><td>1</td><td>每个执行程序上使用的内核数</td><td>是</td></tr><tr><td>spark.executor.heartbeatInterval</td><td>10s</td><td>每个执行程序对驱动程序的心跳之间的间隔</td><td>是</td></tr><tr><td>spark.executor.instances</td><td>1</td><td>启动执行程序进程的实例数</td><td>是</td></tr><tr><td>spark.executor.memory</td><td>1g</td><td>每个执行程序进程使用的内存量</td><td>是</td></tr><tr><td>spark.network.timeout</td><td>600s</td><td>所有网络交互的默认超时时长</td><td>是</td></tr><tr><td>spark.rpc.askTimeout</td><td>600s</td><td>RPC 请求操作在超时之前等待的持续时间</td><td>是</td></tr><tr><td>spark.submit.deployMode</td><td>cluster</td><td>spark任务提交模式</td><td>是</td></tr><tr><td>spark.yarn.appMasterEnv.PYSPARK_PYTHON</td><td>/data/anaconda3/bin/python3</td><td>python环境变量路径</td><td>否</td></tr><tr><td>spark.yarn.maxAppAttempts</td><td>4</td><td>提交申请的最大尝试次数</td><td>是</td></tr></tbody></table><p>更多 Spark 参数项详见<a href="https://spark.apache.org/docs/2.1.3/configuration.html" target="_blank" rel="noopener noreferrer">官方文档</a></p><h5 class="anchor anchorWithStickyNavbar_y2LR" id="自定义参数">自定义参数<a class="hash-link" href="#自定义参数" title="Direct link to heading">​</a></h5><table><thead><tr><th>参数项</th><th>默认值</th><th>说明</th><th>是否必填</th></tr></thead><tbody><tr><td>sparkPythonExtLibPath</td><td>hdfs://ns1/dtInsight/spark240/pythons/pyspark.zip,hdfs://ns1/dtInsight/spark240/pythons/py4j-0.10.7-src.zip</td><td>pyspark.zip和py4j-0.10.7-src.zip路径</td><td>是</td></tr><tr><td>sparkSqlProxyPath</td><td>hdfs://ns1/dtInsight/spark240/client/spark-sql-proxy.jar</td><td>spark-sql-proxy.jar路径，用于执行spark sql</td><td>是</td></tr><tr><td>sparkYarnArchive</td><td>hdfs://ns1/dtInsight/spark240/jars</td><td>spark jars路径</td><td>是</td></tr><tr><td>yarnAccepterTaskNumber</td><td>3</td><td>允许的accepter任务数量</td><td>否</td></tr></tbody></table><p><strong>sparkSqlProxyPath</strong>是Spark SQL任务运行的jar<br>
<!-- -->需要将pluginLibs/yarn2-hdfs2-spark210/spark-sql-proxy.jar 手动上传到对应的目录
<strong>sparkYarnArchive</strong>是Spark SQL程序运行时加载的包 直接将spark目录下的jar包上传到对应目录</p><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>Flink、Spark可以添加自定义参数，在自定义参数中添加Flink、Spark官方参数来调整任务提交参数信息</p></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/functions/multi-cluster.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/Taier/docs/quickstart/start"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">快速上手</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/Taier/docs/functions/datasource"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">数据源</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#多集群管理" class="table-of-contents__link toc-highlight">多集群管理</a><ul><li><a href="#公共组件" class="table-of-contents__link toc-highlight">公共组件</a></li><li><a href="#资源调度组件" class="table-of-contents__link toc-highlight">资源调度组件</a></li><li><a href="#存储组件" class="table-of-contents__link toc-highlight">存储组件</a></li><li><a href="#计算组件" class="table-of-contents__link toc-highlight">计算组件</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/Taier/docs/guides/introduction">Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/Taier/docs/quickstart/start">Quick Start</a></li><li class="footer__item"><a class="footer__link-item" href="/Taier/docs/contributing">Contributing</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/DTStack/Taier" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 DTStack, Inc. 袋鼠云技术团队.</div></div></div></footer></div>
<script src="/Taier/assets/js/runtime~main.e4341204.js"></script>
<script src="/Taier/assets/js/main.c836a803.js"></script>
</body>
</html>